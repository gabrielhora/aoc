(ns aoc.y2020.day6
  (:require [aoc.y2020.utils :refer [split]]
            [clojure.set :refer [intersection]]
            [clojure.string :as str]))

(def example "abc\n\na\nb\nc\n\nab\nac\n\na\na\na\na\n\nb")

(def input "cady\nipldcyf\nxybgcd\ngcdy\ndygbc\n\nrwhvugmspoyzfbnlcxqtdj\navqdpntxrclufbjswgzh\nqbvwgzpfsrjtdxnculh\njhrpclwdxgqibfsntzuv\n\ngxqezucvaowipbsdr\nzvoqciegxabwudrps\ngecawpxvdrqzioubs\n\nvlta\ntavl\nlatv\n\nznjwr\ngrzynwjdpe\njnrwz\n\nmldxjabiuckefzrhywogtq\nhgflyratmezidxowc\ngwiavxlrstzfchymoed\noyedcrlfmawhxvzgit\n\nkl\nkql\nkl\nlk\nlk\n\nanf\nfan\nzanf\nfnae\nzafn\n\nbwfxjsmovghz\nojibsmhxg\nmxhgjobs\nbjgxhosm\nxbmsjpoheg\n\ntvujfaqxkpirgbnyde\nxbmtadenhqwpcjl\ndcxezoptnlajwqb\n\nsxcvq\nrxqckvas\nidsvlyczqtxo\ncqeujvxs\nvacqfpxksg\n\nujek\neukj\nkzxejdg\nekrjfyw\n\nrhosjkf\najfhekrs\nyrdkjshvcfo\nsryvfjkph\n\nl\np\nl\n\nnbrmvjxdy\ntrhcxfjdegby\nxrbdjoqy\nubjydrxmpk\nrbwjxsdyv\n\nxygocl\nlygoxc\nygxocl\nolcgxy\n\npai\nipyw\nbiuvxdlsrz\n\nh\ng\nyh\n\nrgib\nzathbrm\nrthkbx\nfrbsnpeqyov\n\nencvxrbdfawzqs\nsdknfaquybvw\n\ndtckazwsxrlhjeyi\nexoahjrikulpztwfc\njoilqaxewktrchz\n\nkeyspo\nskyeop\nokeyps\npekaoygs\n\nlgxwytzvbhauemdir\nyevalwdbpgzutimrxhq\nmaileyhvrubwxtdzgq\ntmbjeghxlywzsudvira\ndievrwylagbtmhuxz\n\nxnlfbjqdoyp\nolbrjxypfq\njsxylqfpbo\n\nexwdrgyn\nrtwldyng\nmcbkdpqsyaionghfwr\nnygrdw\nndrwvygzj\n\nrywk\nlhkewboru\npkirwn\nsgcrwipk\n\nbkdinatzpvwr\nvephqsjxrktznbaw\nwznkprbtvia\nnligrkupyzwtdavb\nbtziarpkngvw\n\nus\nnsue\ncuso\n\nxkjgnv\nckgvqjnxs\n\nbagwlk\nlfvkwg\n\nvgheapjblkfmztyxd\nfhtqpdulcabjgemynkz\njbohsempzdfiakgylt\n\nk\nv\nkd\nd\n\nxdfinmksvbzyagj\ndsyokf\ndyshufk\npstdwqyfkh\nodcksrfy\n\nktjrhcmxegi\nhcgiexktrjm\njthcegmrxik\n\ngmk\nkgm\ngkm\n\nsfetmaqgdlzbwxpcvyhoij\ntynliwkhdjqexpafm\nmaqyjwixfphlentd\nhmifurwajteyxdlqp\n\nhkl\nhlk\n\nqjkgenvtlrduy\nmxwcbhvsifpzoa\n\nlmqnek\nikle\nolek\n\nbtcnlxuh\nuchlntbx\ncnbtluxh\n\nkuwciyjznd\ndwjyunzkci\niuzykjnwdc\nzdcwjuyikn\nwujzdcknyi\n\nkmygjferih\ngewjmsykcqfrhxiv\nfjrmkydghei\nhjykfemgri\n\nktldfrcqpvgzisbjnoe\nladoibuscgntqekzpfvj\nvejibocqgztnkpldsf\n\nfahlzrqjxv\nrlhjvqx\nrioltxqjhs\n\ntzdewcosbi\nmwtsbezdick\niswotzevdcb\necvdszbtiw\n\nqyuowsetikpar\nytwgp\nptdxywv\nwytp\ntxlgypw\n\nirjbhysqofx\nckdvuonfxgtl\nyfewoarzhjmxs\n\nwidzueoshfvxpy\nvzuyihefspdxw\nayvpfqizxshwude\n\ndfgztxy\nuztxf\nnofctkqv\n\nao\nnaolp\noa\noa\noa\n\ndpwfujoxvnktl\nvekbhcyjdu\n\nen\nn\nn\nn\n\njquynzapovkgdhc\ngopazyucqhkdnjv\ncpohvgkjuanqydz\nkycduqpghsnozajv\n\nitawoxecv\navxtcwenio\nxebicyvtuhwog\n\niqovjtwyhanelbg\nlwvjtionhgyqbae\nevjoquglnwhyaitb\nntjilwyoaqvehgb\n\nsqivjzpmkorlbwh\npmjvhkqbrzwosil\nvkoiqmdbrlhpzwsj\nmucljwzsvrkhpqiboe\nvwjmqhobzskpilr\n\ntprevw\nprte\nrhwkpt\nfmroidptaj\n\nwablxvpqz\nbyexlwv\n\ntcqsyohw\nohqwcsyt\nctyehowsq\nwhcqstoy\nqtohswcy\n\npz\npixaz\npzd\npz\n\nnwuikyve\nnyvewkiu\niyvkwunez\nvkniyewu\nwuivnkye\n\neytdnkbazpmwg\nmgbtacdwkyenp\ngeyptwduabnzmkh\nteswyamrxbknpjg\ntkbcywpengma\n\nmjxavd\ngyutzrfal\n\nfvcizraqbesujko\nuienrftwaylzdc\n\nuincmblfertod\nqdoktbjlnvzehrxgspy\n\njvcqkryilgpwfntxums\nxirbvakwlsfjycqn\nrysiawecnlxkvqfjzhd\nrvxycqlinhjswkfo\n\nmdvnkegyacoru\nwicopyauvghfnredstmk\ncenomkayrudvgz\nvnagokzyrdemcu\nuqynearvkcdomjg\n\nly\nysl\n\nvpictsgwzxm\ntrgwsxvzci\n\nqdkcbwhn\nncbrkhdqw\n\nsixgyadetw\nvmdiwknxfh\ndgwxiyura\nqeuwgizxdp\nlrpwocdbiajx\n\nvnwysrfutb\nfbnrytuvs\norbivfdypstlun\nbvnurtfys\n\nsgkoh\nhokgs\n\nmqouzflbs\nlmzsyo\nlmszixyo\n\nmkzp\nmzkp\numzpk\npkzm\n\nulpj\njpul\n\ngelws\nsple\ntsqekvolbczxan\n\ngrhebl\ngblreh\nbgherl\nbehglr\n\nfevslgjktqazhorycpxw\nlcmukypbsoxedvf\nxosyfvpckenli\n\njxyiconfuzmbsaevtwhldrp\nxmefakdwocsrzbnivhtl\nwgznhsqfvtbcxamleiord\n\nhdtjrpawu\nsjraptcdhwu\nptrwajdhu\ntwadpjrhu\nrpaudwthj\n\nmotjpfylnx\nfnoyjpmlx\nofplnxjmqy\n\nanhjilfkyrmxzvceub\neadlxybhfvcjinwzmrkou\npxksjvnmylraicghzftbe\ndkyzimvbcjxraelhnf\nyivnzebljhxfkrcma\n\ngut\ntgu\nutg\n\nnzrbtjvdm\njdtvbmznr\nznjrmtvdb\ndmvnrbztj\nbdjzntmvyr\n\njwszypbxieafrdnch\naschejbznfx\n\nxochndwqpvzmyguflkbtrsaeij\nxfhqyitrlcnewsjzvdpakgombu\n\neks\nkep\nek\nek\nke\n\nxulgsdaeicz\npntklwzvb\n\nzqrma\ncxzaikm\natywgdmuvsnl\n\nlwzxqithm\novgsp\n\narozwi\naiwqz\niwgkbz\niucwzdxps\n\nfrbyoen\novyfenc\nseyhioxwztk\nenuogly\nqomye\n\nrvxnqd\nvdqrny\nmrnlqvd\nszvqrnbdx\nvdrqoguhain\n\nxowaq\nwqovn\nbmghtco\nokar\n\nnflvbdqgrjsko\nrgbjndlosfvkq\nndklgqovrbfxjs\nsvkeqbjflordgn\n\nm\nao\nwu\ns\na\n\nwkrfzvohsylcdegiq\nfhwxcqlsoizk\nqflzcwjhsoik\nwiqlhoxcfskz\nwclhtnspioamzfqk\n\nldtackmr\npxestymrz\nyrwtmup\ngmqvnrjfit\n\nt\nt\nbph\n\nnywitsj\ntqvrlnwhgs\nmtaidusnywxk\n\ngxcyd\ncdxgyf\nkxycg\n\nil\nl\nlb\n\nguna\nnufa\nanuqvrj\n\neoulsfcqmnrvjgxiat\ntlargoxfvisumecjkqn\nrjgnseatxoivqlcfum\nsuvlciaxrtngqmehofj\n\nglkcfvztmsqdb\nsjdowcmxtvlzqbg\ntpryhgedzcumbasl\n\ntaumpvcels\ntvsuepcalm\npveumsatlc\nmasvuletcp\n\nz\nz\nyz\nz\nz\n\nmp\npm\nmp\nmp\npm\n\nxwckdmsnh\nkwsxviun\n\niuzmajtxolf\nawfmvjuoilxzte\nztfmixyoqrljua\n\nsjgeqy\nyzxnmri\nykdmixrv\n\ncm\nm\n\nawnvypxbcdl\ncnpydlxawb\ndcpxylbanw\nxnydlbcwap\nbdxpncwlay\n\nuj\nxhfu\n\nzrsiauqehwb\nceqwsbai\n\nl\nl\nlp\nl\nlv\n\nazuxqnhyecdslbojwf\nnyxzefuasjbolwqc\nwlgzqjxvtfpuoebycmnkasi\n\nckuziyfdetswr\nyezwutficsdk\nsykftuwcezid\n\nspdvxqwk\npdvksx\nsdpkvx\n\nv\nazp\nc\nci\nc\n\ngf\nlv\nk\nk\nlv\n\ndvnxstyjharkqgfcpzoebml\nbrhaizuseyjpmgotdvkxcfq\nxomkprgcdfbwjystazeqvh\n\nrehopfalvz\nimhjprwqyzeo\nzstpundkbcgx\n\newilz\nlziew\nwelzi\nlzeiw\n\nqxthsijdgcywpnk\ndsnptchxqjwy\n\nukbjit\nbjuit\nuibzjtnxm\nibjtu\nibpujt\n\nchokmipvwlfryztenqxu\niuxefydlatrphvznokq\ntdxkivblonrezsqyuhfp\nqnultkpixrvzfeoyh\nkutqzydxnvjohriplfe\n\nksilczxfgabryuj\nnqyfczjhdoxsleuagbki\nbpfcseykgjzaxluih\nkcsfiubjvtxazgmwyl\n\nircxknguzj\nicznmrugxjk\njknciurgzx\nzckrijnxgu\njxgrczknui\n\nfhslg\nrleopshnu\nhsflg\n\netsigcxpofakmq\naqskpecgitfyxhomn\nkfxpqgaoceismt\nqxpmikgaseftco\n\nwb\nwb\nab\n\ni\nszivqg\nim\ni\ni\n\njnq\nj\n\nsy\nys\nasuy\nys\nvyis\n\nupvcjtqwergyib\nbjhn\nbfdj\njb\nbahj\n\nyiclqgj\nqlcjxgiy\nqgyljic\nqiyjglc\nycqjilg\n\nuitoacvrg\nbithcfgyosevr\nrvocgmitn\nitcjngovr\n\nepbwxvdz\nldvx\ndxvn\nvdx\nvdx\n\njatsqkxuhdrpbecnylvmfzigw\nlxemqiyfwbskonhptjdzurcagv\nifwpcvjzkmhuqbsnyatdrxgel\n\nw\nw\nw\nw\nw\n\nz\ne\n\npmr\nb\nju\nbe\neb\n\ngw\ngw\ngw\n\ndbizovcyxmusfwae\ngjrhpklqt\n\nmsi\ns\ns\ns\n\nmeykd\nwyhmb\nyxm\ndyxomt\n\ndxjyuwfelbnsqzc\notiaxcwfeqdgnjuz\njzxnrcdquvefw\nczfwmjuqkxden\n\nsvour\nrvuwso\nourbsvj\n\nubil\nu\nu\ndu\n\nuqtadhzrnxcvspl\nmkefnjsoxy\nmsnigx\n\ntb\npbt\nrbt\n\nlpdrxvuaqgjzmshwkntoibfy\nwhmlbyrukqjzpagvofcdenxst\n\nmuviezfdk\nqukvfyeisr\nikuyfs\ntgljkihfwauc\n\nairkzuthfwsgepj\njqcsowhuxratfgkp\n\nkwqiftygb\nbqcgk\nbgcklaq\nkvaqbg\nsqbkgl\n\naoqnmrfg\ndaqmgnf\nmfgaqnu\nwmpahinkgjqbe\n\nmwreujqsnibvzg\nmweizqrujbnvsg\njnzrbgsvmiqewu\n\nvztidxa\nazdtxiv\n\nhrxmwsuig\nmhigxsurw\nusrhxigmw\n\ncfebnouykgx\nkoxsucqgyraf\njuktchzofvyipxwgdlm\n\nhx\nxh\nhx\nhx\nhx\n\nmduw\nwmdnpu\nmduw\ndwum\n\nwutmabgchq\nuazbkx\n\npjbyczfgslqen\nznekrqpjwsclyigfb\njypsgxaqfznlebc\nbpcfqeltsynzjg\n\ntsxublnfe\nlrtfspbn\n\nizolf\niofz\nxuqfiny\n\no\nlom\n\nojzmfxhikdcypueg\npvxcfmoyguejkqr\nspweltkufjvgoymcx\nmkucjyesbogxp\necmpynakxjguo\n\nzdouqevfi\nrnqzpoufv\nhvumclzqbosywafgx\nfjutvokzq\n\npkvghyjfrdu\nvfghyjdr\nlvgjyhbidaftroc\nhfedvjyqrg\n\njxiuzblvkmyegsnofq\nnlbmquvyzjdpfxgseiwc\nmjbgehyqkxlvzfntiusr\n\naczfpmyuwstqbjhednxlo\nyecdxblpfmanzwsuojthq\nbsjxzityancldmquefwhpo\n\nlvnyfcu\nvxcylfq\ntvqkylcu\nvblscjyf\ndlcmyrwoapviez\n\nwberan\nouzcxydhn\n\nbvpzg\npvzb\n\nlbmnpuiyctxrevsdhfkjz\nenlkmziauvcbftydrpxshj\noxnlhmsdzjriuftckeybpv\n\nt\nr\n\nbfhgolnuptvjsxym\namlwuokyvbitjfghsnrc\nyvfgmlehjbxnotsu\n\nckqgw\nqgvkwc\nwmgckq\nkgwcq\nqwkgc\n\ncnpedr\npevnc\nnbcpt\n\ngrkun\nkgpnur\nnugkr\nrnkgu\n\nsomqp\npouqma\ncompqy\n\nruqhzxb\nqbhru\nqbrhuj\n\nmtukhzvjlcpbsao\nluvynbjqerifzwoxgph\n\nrqjikzu\npgbnltefkj\n\nnomhpazbfcuyktxqiwgl\nezymcifpgwxabqnoth\njfitzgwocnpqyabmhx\n\ntapvqkdegyfxhucjinmb\nujratdgqmphkfxyivbn\ndtyxkgqjvbhimfnaup\n\nnotivlm\nomilvnt\nioltnvm\nvitomnl\n\nbzipxlfwqocrev\nezqnpmioytdbfr\nzrpfoqubesi\n\nkmaplbsjvdchxwyn\nnycxswbhajdpk\npnkjuwdyscaxhb\n\nsabngehtj\naetjghs\naetxhsogj\n\nxazifjcsrhqvotnwbuyke\nsanqejbycdwifrxvhzp\n\npsqc\npmq\nrjqvygzka\n\nzx\nz\nz\nzq\nz\n\ntcfsxal\nolcfxas\nctxslaf\nafcxsl\n\nyofme\nomfe\nyfoem\numfeozjv\n\ns\ns\nbsk\n\nipwujhmlxfqedtgkasvbrozc\neacjpdkwqhugtvlbsifrozm\nhdjqmcalsefbpizokruvtw\nsqzcmptjwvkfaehnolbrdui\nzubmdsipaltehvcjkfrwoq\n\nq\nw\n\nmgtouezsxpqakjnl\navomlkdet\ncmitdakloe\nkyafiltewmo\ndhmelcbtoawk\n\nweqysz\nwvuqybse\nsqexlw\n\ngrohujnmf\njowaptgxryb\n\nvmankdpz\nezaxt\n\nadkxmvpjgnswzy\ngxmndzkryjapsvw\n\nlmoqnvsfaxuhd\ncouflmndvqhsja\nnrdsoavbhfqumi\n\nnopql\nmqlopn\nlqonp\nplnoq\nolqpn\n\nrndkilzmstjeg\nimnerzgtlkjs\nilkgrtndmzesj\njgzmtlrikens\noplrmkcgzeisntvj\n\nwkveobq\nvbmwyez\njtixfdplug\n\nfkog\nxgnvprf\ngwfot\nfqtg\nkfgj\n\nrmkbpqiczyatsue\narbkqwtihsnepzuyl\nitsdgzekyuajopqrbvf\n\ntsogfdjmiweuplryc\nentpjmiwkbydcusgq\nytwcdugmsikejp\n\ngtifu\nfgut\nmaugfqt\n\nlydezqgconibxhptr\nrvhpziextcgqdn\n\nlomz\note\nhorj\n\nxeljfmtougnbavpdrcqw\nlxporgjacuebvtsfqdn\ncxbzydvfqplijngrtuoahk\ndcbfxjownqtpagvulr\n\nsdgt\ngtsd\ntsdgr\ndtgs\ndgst\n\nodwjlyk\nyc\nbgrhvyniq\npykje\nykflz\n\ndgsx\nxsdg\ndxsg\ngdsx\n\nwtp\nwpiyl\nqxev\n\nrtionqlhjx\nzroknluimtqbxc\nrtxqhoinl\n\nyntd\nndt\nntd\ndtn\nmfdqtn\n\nqbrakwdnmcjifxtogy\npygfcekrmxjqod\nkycfolmdqrgxj\nqkymfxodjrcg\nxcmkofrjgdyq\n\npwyamsuvxo\nymxvapuows\nzsxmupayowv\nwsymavxupo\n\nvwhqylbkdjcorgm\ngwydlkobqcvjr\njqwpboghlvdcak\nxjbnqwvedzkglo\n\noncquyf\nqnfaowr\nncqfo\n\ntvdqhwca\nplxmrjeou\nzfb\ngsznyie\n\na\na\na\na\n\nesoucni\nuzfgwcnxaqstbmev\ncheyisjun\n\njnaqvhfpoxcue\nepncvjuxfbdha\n\nzji\nzji\nojiz\nizj\n\npdysemnc\nemsdnycp\nsadecvmynp\nmdnpjcsewy\n\ncoexuhlafgsqtb\ngeslfaxutqho\n\nvknhzpqwifxelbaoy\nihgbkjqavroyzswme\n\nlo\nomu\nroscv\n\nbnus\nbsun\nsubn\n\nzolprckqstjga\nqcsgkztrojw\nrgkejwqcstomz\nsgqjbkcroyzt\ntwqgksozjrc\n\npwfuqsjl\npqwijlzfbush\nslwpjqfau\n\nrsnhwkvleyq\nynwrvehsklq\nsqlvnwkreyh\nqulweyrvhksnboj\nhvwnelyqcakrs\n\npchq\npcq\npcq\n\nemibouksdlwzy\nnzfvuaim\n\nxmopwqrt\numxwteynq\n\nhvl\nhv\n\nkpslmgyoxfnvwdzue\ngufhxmrjkeovsydilqw\n\nfntkuxiag\ntxinagfuk\nkintafuxg\nxufitgnka\n\ngsenjvq\neqmgjv\nqbgjuev\nmjqgev\nqvejgs\n\nsdkecjiawgvmltuz\nbqlmsrpfitcndyz\n\ntxbwf\nzmpxlvbqoa\nuhxiseydcnjkg\n\ntflsahkdqbuz\nafqhucrkzstdbnl\nhtlaeusgzxdfikqb\n\nexnkiu\nxeitkun\nuexkni\nkinxeu\n\nfnkx\nknf\nfkin\ncfnk\n\nh\nh\nh\n\nhplu\nlgu\nwmiq\n\naithpkcvxerjlygbos\nxaisprobejchkyvqg\ngxskbwcpfyraejhoiv\nbrapkfieyvjgocsxh\n\ndiowj\nhcbql\n\nfzgmaib\ngzfrlipdh\nvgzjbifcx\ntjgwzfi\n\nj\nxh\ng\nt\nyv\n\njokizbras\nasizobkjr\n\nzjveuyai\nyajeivuz\njuzyeiva\n\nsxogndybtrkam\nnyfwkdxa\n\nie\nei\nie\nei\nei\n\noztsejp\nstzoepj\n\ncvoutkrjs\nrstjcakxoule\nsucomjtrk\n\nkgsquajhnwydi\nmyqeihnwztd\nfwnxpyheridq\nvywnzodihq\n\nthrqlasxkwvgonmbid\nirbvqgcmotzkhuxasdlj\n\nabn\nabn\n\nfwuvdbejcmxp\npfejuvcmbxwd\nuvpwfbjcxedm\ncjvbexdmupwf\nvbumdfwjpcex\n\nkhe\nhd\ndh\n\nwqksen\nnksqe\nxqsenk\nsqnkex\n\nqlusg\nsug\nusdg\ngus\ngus\n\njdkbrvsagex\nekvrdbgas\nkgvrbsdae\ndkbrasgve\n\nxabhuokifm\nubmkhfaxio\nbmxufoakhi\nafomihukxb\n\nelpdrckvwjifyausq\nskapiruqvcbyjnzoge\n\nwdcxljfpsevakhgm\nlvxpahdkwsmecgj\nmswkvpljadexchg\nxpgajdskvwlehmc\n\nuvnfxd\nukypde\nhudp\nuwdbh\n\ndi\nid\ndi\ndi\ndi\n\nvegjlhn\nuikdompq\n\ndiaq\niqa\nqia\niqa\nqavi\n\nhjnedvzbrypcwt\nbyncjwzhvmrdxte\negpnzyxjdvbwctrh\natwrobznehdvcyj\n\nuy\nwdu\nlipqvsu\nagpjebnu\nkmrxtfoczhu\n\nrcdupkmhivbfz\ndbuhrfpmkicavz\ndzcigyhvpbfumqk\n\ngvknrjuzah\ndarevkqfbushz\nvhzwlkjpuari\nhvrizalykctu\n\nmsqgzoy\nqmgiz\n\nqenaurhfb\nnqruafhbe\nubhfrnqwaze\neqranfhbu\n\nreknf\nnr\n\nm\nm\nm\nm\nm\n\nqdezurshbioc\nbdhrocqzusi\nhsizcqdobru\nhocsruziqdb\nchrbiqusdoz\n\ngdeikqytfabw\nqrkhapcfl\n\nzfqpubodgxvime\ngjeitykxzplbvohqard\n\nvz\nq\nq\n\ngdpyqiv\nxmhvtdoaywz\nufneysbjlvkc\n\ntihbra\nno\nqmwo\no\nm\n\ng\nom\nwpbdvku\nor\n\nk\ntk\nuk\n\nhtf\nkcluo\nohlscmjk\ngyrvazeiqdw\n\nxc\ngcx\nxc\n\nkfuenwlpmqaxr\nqukzifgdbnorva\nqutcshwknrmaf\nlprqafxkun\nuanfqrkm\n\nkrwhnfvcgyt\ndmjqxliv\nlzvbdspxe\nvlmuaz\n\nx\nx\nx\n\nxhlgfrmncpadtovuisbj\nliaqdnuxmjofbs\nxejflmsnkbudayoiz\n\nnjvuoamkpsirxg\ngkvmxrqoiauj\nvjucgoihdkmaxr\nexgizudkrmjaovl\n\nikp\nyv\nikz\n\nbwgsoup\nugpwsbo\nwsjnpuogb\n\nlotn\nltkon\naoltwxbined\ntnokycl\nlnto\n\nm\nk\nk\n\necldgqtxpk\nqcmpxlhkagetd\nloxrdknsepvgt\ngixpfzjlkted\n\nhwp\nwh\nhw\nwhm\n\nyknocjtxubvdfhwz\nursndjpxzo\n\nscejb\njbecl\ncejb\njcbe\njbxvec\n\nifdc\nfiudsgjv\nfumqth\npfi\nrwkfoylzaenb\n\nznubcxrwh\nubvcrzqnwx\n\nuxym\nmx\nmxn\n\nbeumoprjvkt\nuvrbfmepokj\nmjkvpouebr\nbmrvkjuope\n\nutgaxysljbvfm\nwpsdfavxogmyju\nrgemjxycksfvi\n\nmzeurqxtaoghdbc\nxuebcdrothzqmga\nadxtrmbczgqeohu\n\nnhuwbty\ntbuhniwy\nyhtbwnu\ntuwbyhn\n\npsfgnrqozcty\nwjvueck\nijdexbclhm\n\nyxdwj\nwxd\ndxw\n\nsexcrtpdvfquikblhjaym\nchtlvbsyerxqupdfmjk\nxlyedbvjpcqhrmutksf\n\nnvuozspkxqrly\nuydmx\n\nkwyuicbzgnt\ntnyugbicwkz\nnubswzicgtyk\nyzwknutbgci\nzktngiucywb\n\nrakgqzus\nsqpg\n\nmlzrs\nhlpyi\n\nr\nr\nr\n\nuwckapi\nkgaipwcu\nwcuaipk\nwapicuk\n\nybfnkgludqivhaorsz\nwblqaofsxkvhr\nrvlqakhosbwf\nlsrhaqofkbv\n\najqufyzreptihg\ncsdmvxuknlobr\n\nbmn\nbcm\nbnm\nbym\ntbm\n\ncphtjyqwxfisagmln\nqhjlzycpsxigotwnfam\nwiyxfsthnljqpmgac\nmpfncbgshwyjlaxqidt\n\noptxzqvgmlacwireyjhkfb\nxkibgaquwejmdszhytnvrp\n\njufbthmwr\nmrjbtuwfh\nwmfjutbhr\nbxrftjhwum\njbuhwtfrm\n\ntzh\nthz\n\nf\nf\nf\nf\nf\n\nbqkn\nnqbk\nqknb\nbnkq\nknbq\n\nydwexhmqru\nhdgmjatxqeovuwc\n\nabtg\noabytg\nxgtbjh\ngvtabn\n\ncg\ncg\n\nyashgqblr\nshqlraygb\n\nbgqo\nihn\n\nukda\ndak\nmkdjczgta\nakdl\ndalk\n\na\na\na\n\ne\nb\ne\n\nkqbai\nbapko\nabkiq\nkba\nbak\n\nsj\na\n\njh\njdh\nfahj\nhj\n\nv\nv\nh\ns\ndr\n\nxhwj\nxhjm\nwhjx\n\nwgh\nvymgwjoehna\nhwcg\n\nompt\nluzvjx\n\nnfkrushty\nhtrcskufyn\nhkrunysft\n\neovbfkcaxdhzijwn\nmxwkdjbzrvhcnoefai\nxdbcofenviwzjapkh\n\nnvyatuqdw\nwdnvyauqt\ndvqatunwy\ntwyavuqdn\nnducyvwtqa\n\naijqfus\nqasuij\nuqsjia\nrjuasqi\niesuajq\n\nzjkvduxstlrwqhbn\nhubvfndlowtzxk\nnbtuzkdcwavlxph\nhmnwuktxbdszvjl\n\nfgezk\njndgyplmur\nakxzg\n\nxmbdlfr\nrlwftemjuzxd\n\ngpyldcbuom\ngiqfrhbmo\nszxewnkjvat\n\ntuqomcgajf\nfqjaomgtuc\ncjqafgmoutl\numatgofjqc\n\nlsrfvjaw\nwslvaj\nslajvw\njavlews\n\nvuqeolsca\nihvqrul\nkbodztqlvu\nuvfpnwqjmy\n\npytwl\npwlty\nleptwy\naypwlt\nyowxhtpgl\n\nbwcaoluzmh\ngamhuwczsi\nulmoahzcw\nmdhrcvyukewpza\nwozuamqxch\n\nf\nf\nf\nf\nz\n\nh\ndh\nhj\nljh\n\ntviblf\nwrdsaqvky\numgexnohczj\n\nzjy\nj\nksjow\njhgxz\njzx\n\nct\nc\ncht\nc\nicov\n\nvsd\nwxvsdb\nvdsz\nksvqmcd\nsvidb\n\nxqzaucwk\nuadzwkqhcx\n\nielspbgca\ngtislbezcap\nebsgkaupic\nezgabscpi\npagibesc\n\ncrjaozusnw\nvaxqblkz\nfmepdtg\n\nkylpaeoqgtbxvfmjzn\noeplfxmgzjqybnkavt\nepgatylkvmozqnjfbx\nkqybplxjazgftmeonv\njbzyvnqxkegopalmft\n\njxvqf\nmfvo\n\nf\nf\nm\nf\n\ntxazokpwm\naxoczpg\nadoxzp\n\nvytdpsizuq\ntiquvwszdpjy\nxyictdvlkqpgfsuz\n\nfqabeoinxkv\nudhkpbcmejy\n\nfvktomgcdbpjxawl\ndpsgbxmcvwkolafj\nbevkwdgjacflpmx\n\nxonyjrlzfmg\ngjlyfnorxz\nnoxljrfygz\ngrnlofjzxy\nzlxjoynrfg\n\ngwkahb\nqhkyw\ngwbhk\nhkcjpwls\nazkbwqh\n\nvpfdmnzj\nugcqlatijedmpv\n\nmcnzq\nonm\n\nhnbjvmkgod\njdngkhomvb\ndnbvogjmhk\nojkgvhdnmb\n\nbetpuzcnmrihwkdg\nhwrgduqcznbmxtpoelsfa\ngzdcwejumbvphnrt\n\nvapidj\nujspa\nepxlmkf\ntgurp\n\numlvkjpwyi\ndnwfipmv\nrivbemxwph\n\nlwvfbq\nwlbf\nalswbuf\nfwblv\nlwqfb\n\njredugbaknc\nfndcxsqure\ncqrudyszenv\nfuylsvmneidrc\n\nklxpvdicbe\nrghplixcedkbv\n\no\nzo\noujs\no\n\nlezgicaxjpbfrkvwushdtnqmo\ncizbdnotawjmxlvushkrgqpef\n\nlwqsberxcmhuvtjy\nwzmhxbyjoqlsvuecra\nlmurdwxicpgfqyhbejvs\nxhmbjvnutcsiewrqylk\n\nzpbynqdhlcio\ndbyhqcozpiln\nbnipcozqdyhl\nyondcqlzbhpi\ncyqdhbpoilgnz\n\npoygaer\nby\nxilybj\n\nozqnwilxmtvsghdpabkfrj\ntohlwrznjimgkdqbpxfvsa\nqanigmplokbrvstxzfwhdj\njxizrtakgopnqshdlmfwvb\n\ngcq\nnfrl\n\nmrsyplb\nnlb\nkcloasx\nleyuxp\ndtzvfjgiqlh\n\nrxlm\nxirs\nfxrasi\niwxr\ngrbqeox\n\npe\np\np\np\np\n\ncjx\ntplnqfx\n\ncfe\necf\nnefc\nsefc\n\nlnt\nlnzx\niltan\nmljcy\n\nrtsnluhmkbvjwqifgoceaz\nkfmcbsanwhivruztqjgole\nmkznvcrhsbtjaquloweifg\nncbeltkasfzjrwuhqiogmv\nrgvasjifoctmnwkbeqhluz\n\nlxtiuyhcqrm\nmtlcrh\nmtrxbhflic\nmhtpecgvrl\n\nsrcfjawukbzinqmxdhy\nfhixzjrkamwnscpuqgydo\n\nowjnbisvyl\nbpisjn\ntisjnb\n\nwnzixhqscam\nnaqxzmivwchs\nqzxnascwmih\nxqnsahwzicm\nsqczmxnahiw\n\ndwtjvfkncqxuh\ndhgqtnkpuvjcwfx\ndlkyqchfwexnvutj\n\new\nwue\n\npujbdat\nradse\ndwsea\n\nean\nn\nn\nn\nn\n\nrzmwqiytucvpdnsfbgelh\nozgwnxmauybredhsjqvp\nrxudgmvykhpeqbzswn\n\njosbygp\nvopsj\nadeczmjw\n\nfxodtyrkvmbg\npgwkovxhtyufbdm\nfbxocpkligytdm\nznxaemofjgqdksyt\n\nijxdhryqml\nrsjkvmyflz\njlmrxyw\n\nsawmtrejogfxdnhkzi\njodmbtzucfwyrpqivg\n\napjgcrlztebs\nrotipxflzgcskjabe\nbcltgzprjsae\nvzreltacsjbpg\n\no\no\nxo\nzgoe\nlo\n\nkoy\npoyk\n\nvagrbwxqfjlodi\nibdrvaxgfojq\nqaxfgvodijbr\n\nficdmvaluyrpxnqg\nufgzriqpcwmdlya\nakiqyhgorpsetfudjlbc\n\nchsknb\nhbszn\nbzchnsx\nnvsbh\ndmysbnh\n\ngdpuyxihomjscwrq\nfnjsrcwyqmiloupdhx\nhfqrjxcyisupwlodm\n\nqiymdjhkzf\ndhjkqfmziy\niqzmydkhfj\nkmvizhqdyfj\nbkzhfiyjmdq\n\nt\ntz\nat\nt\n\navrslnxdkitbycg\nnbty\npbomtynjwu\nfqybnht\nothfnbey\n\nxtrunekjicsm\nbqofpzaw\nvahlbywg\n\niwdh\nhwd\ngmnyjskwd\n\nikmlazfnbdorsjqeypuvthcwgx\nhgjtxplaebnmqzyufcvokiswdr\nwnckhtdbyufloiqepmjxgsvazr\nepfzmkcvtbxhulgsiqyndrawjo\nvyjortmhpxndlaeiqugwszfcbk\n\nyotxgwldvajb\nopbhatxwylvjg\nvjlxbrtkawg\nbolxvwgtja\n\ngcwhiafqpe\nheqwcapgif\n\nv\nv\nv\nv\n\nquljvbrwcankdz\nulczjenwbqdva\n\niuxpgankys\naqnyupki\npjvikyxaun\nopilkmnuzya\npaukiynj\n\nxghwsyorbezifcjdn\naiycwghplobmzd\nicydztbguohqw\noiydgwhzbcvm\n\nos\nfbxuzm\ndy\n\nrjpyidwgfvqleb\neylqriwpbgf\npiarwefgylbq\ngfaebpyqilwr\n\npjvmiedqkbowl\npqimweboljvdk\nkpjemqdbwiovl\nlvmjeopbqwdik\nkmpqvjilweobd\n\nspzf\nfsvpa\nqspof\nsfp\nspf\n\ngey\nlhnmaeygb\ngey\neyg\n\nmlnpetjzfcwuhsg\nmiwfcjtlhpegnusz\nhncpztmsfwgluej\nmtjuspgcvfwelhzn\njphsncfwzulgmte\n\nxo\nox\n\nlmcrnftgyehbiauopxvq\nqbglamtefucxihroynvp\ntaemubichnpfgovlqryx\narfgqvnetlmicbuhoxyp\nergfpvomtxnbchlaquiy\n\ndpvjzhctgoarwxslq\nthzvryowlpngksaxcqd\n\njgxqdkvcfb\nxvtkfdcaqbg\nabqfvgwdxkc\nskpvqdbnfgxc\n\nxkcogdlq\nogclkx\nxlkuoagvfbe\ngwxmlkod\n\nilkrwvsm\n\ndlzhejcxgaounswfbrpyqm\njuhszbwcqnmfareo\n\nokjwxhu\ndnt\npxzgny\ncbs\n\nwidp\npiwd\nwpid\npdiw\n\npblk\nawkpi\npkxr\nkpfz\n\nap\np\npbyn\n\nfbzsyicupka\nzecusykamifqbpt\nicpauyfksbz\n\nseumyc\nc\nc\nulacyj\ngpixcobt\n\nxoe\nr\nrw\nimx\nvgca\n\nuagdrmf\nqdrymuaxfg\nfmruazdg\n\nadp\nap\npxa\npa\nsagp\n\nwtifbkzvuhnomscrxq\nnvcqhximsubtrfokwz\nbqznfxwohmkvutirsc\nntusvqiwhzcoxfrbkm\n\ncpbly\nclpbye\nycblp\n\nwmaxezdjgrocuksbp\ncuxkdjoea\nefxuaockjd\nkceoxldauj\n\nyfndzthcqvgp\nanphtqvcfz\n\nbyecawnxd\necyndxawb\n\nz\nz\nz\nvz\n\nmeypsculfjd\ncepvdinrls\n\nhqiu\nguis\n\nrxvj\nxvr\nxilvr\nryjxv\nyrvx\n\nco\noc\nco\nco\noc\n\ngyjtrueqosz\nachxyfbvqkopetj\n\nzkrvufeglcywqtx\nhsekycwptiogul\neyhljkcgwtpuo\njgncytkblpweou\n\nnxhayv\nnpqfohbrl\nkegchuidstwnm\nnzhlj\n")

(defn count-unique [group]
  (-> (str/replace group #"\n" "")
      set
      count))

(defn part1 [input]
  (->> input
       (split #"\n\n")
       (map count-unique)
       (reduce + 0)))

(defn parse-groups
  [input]
  (->> input
       (split #"\n\n")
       (map #(split #"\n" %))))

(defn count-intersections [group]
  (->> group
       (map set)
       (reduce intersection)
       count))

(defn part2 [input]
  (->> input
       parse-groups
       (map count-intersections)
       (reduce + 0)))

(comment
  (part1 input)
  (part2 input))
